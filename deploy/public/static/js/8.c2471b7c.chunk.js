(this["webpackJsonpmern-socialapp"]=this["webpackJsonpmern-socialapp"]||[]).push([[8],{101:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(0),o=n.n(a).a.createContext(),r=function(e,t){return null!=e?String(e):t||null};t.a=o},104:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return f}));var a=n(20),o=n.n(a),r=n(1),c=n(26),l=n(17),i=function(e){return function(t){t(b()),o.a.get("".concat("https://mern0social0app.herokuapp.com/api","/user/post/").concat(e)).then((function(e){return t({type:r.g,payload:e.data})})).catch((function(e){return t(Object(l.b)(e.response.data,e.response.status))}))}},s=function(){return function(e,t){e(b()),o.a.get("https://mern0social0app.herokuapp.com/api/people/posts",Object(c.e)(t)).then((function(t){return e({type:r.f,payload:t.data})})).catch((function(t){return e(Object(l.b)(t.response.data,t.response.status))}))}},u=function(e){return function(t,n){o.a.post("https://mern0social0app.herokuapp.com/api/user/post/add",e,Object(c.e)(n)).then((function(e){t({type:r.a,payload:e.data})})).catch((function(e){return t(Object(l.b)(e.response.data,e.response.status))}))}},d=function(e){return function(t,n){t(b()),o.a.delete("".concat("https://mern0social0app.herokuapp.com/api","/user/post/").concat(e),Object(c.e)(n)).then((function(n){return t({type:r.d,payload:e})})).then((function(e){t(Object(c.a)())})).catch((function(e){return t(Object(l.b)(e.response.data,e.response.status))}))}},p=function(e){return function(t,n){o.a.post("https://mern0social0app.herokuapp.com/api/people/like",e,Object(c.e)(n)).then((function(e){t({type:r.q,payload:e.data})})).then((function(e){t(s())})).catch((function(e){t(Object(l.b)(e.response.data,e.response.status))}))}},m=function(e){return function(t,n){o.a.post("https://mern0social0app.herokuapp.com/api/people/unlike",e,Object(c.e)(n)).then((function(e){t({type:r.r,payload:e.data})})).then((function(e){t(s())})).catch((function(e){t(Object(l.b)(e.response.data,e.response.status))}))}},f=function(e){return function(t,n){o.a.post("https://mern0social0app.herokuapp.com/api/people/comment",e,Object(c.e)(n)).then((function(e){t({type:r.p,payload:e.data})})).then((function(e){t(s())})).catch((function(e){t(Object(l.b)(e.response.data,e.response.status))}))}},b=function(){return{type:r.o}}},109:function(e,t,n){"use strict";var a,o=n(2),r=n(6),c=n(8),l=n(12),i=n.n(l),s=n(117),u=n(115),d=n(0),p=n.n(d),m=n(118),f=n(111),b=n(116),h={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};var g=((a={})[m.c]="collapse",a[m.d]="collapsing",a[m.b]="collapsing",a[m.a]="collapse show",a),E={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+e[0].toUpperCase()+e.slice(1)],a=h[e];return n+parseInt(Object(s.a)(t,a[0]),10)+parseInt(Object(s.a)(t,a[1]),10)}},y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var n=t.getDimension();e.style[n]=t._getScrollDimensionValue(e,n)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var n=t.getDimension();e.style[n]=t.props.getDimensionValue(n,e)+"px",Object(b.a)(e)},t.handleExiting=function(e){e.style[t.getDimension()]=null},t}Object(c.a)(t,e);var n=t.prototype;return n.getDimension=function(){return"function"===typeof this.props.dimension?this.props.dimension():this.props.dimension},n._getScrollDimensionValue=function(e,t){return e["scroll"+t[0].toUpperCase()+t.slice(1)]+"px"},n.render=function(){var e=this,t=this.props,n=t.onEnter,a=t.onEntering,c=t.onEntered,l=t.onExit,s=t.onExiting,d=t.className,b=t.children,h=Object(r.a)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete h.dimension,delete h.getDimensionValue;var E=Object(f.a)(this.handleEnter,n),y=Object(f.a)(this.handleEntering,a),x=Object(f.a)(this.handleEntered,c),C=Object(f.a)(this.handleExit,l),O=Object(f.a)(this.handleExiting,s);return p.a.createElement(m.e,Object(o.a)({addEndListener:u.a},h,{"aria-expanded":h.role?h.in:null,onEnter:E,onEntering:y,onEntered:x,onExit:C,onExiting:O}),(function(t,n){return p.a.cloneElement(b,Object(o.a)({},n,{className:i()(d,b.props.className,g[t],"width"===e.getDimension()&&"width")}))}))},t}(p.a.Component);y.defaultProps=E,t.a=y},174:function(e,t,n){"use strict";var a=n(2),o=n(6),r=n(12),c=n.n(r),l=n(0),i=n.n(l),s=n(110),u=n(13),d=n(101),p=i.a.createContext(null);var m=i.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"button":n,c=e.children,s=e.eventKey,u=e.onClick,m=Object(o.a)(e,["as","children","eventKey","onClick"]),f=function(e,t){var n=Object(l.useContext)(p),a=Object(l.useContext)(d.a);return function(o){a(e===n?null:e,o),t&&t(o)}}(s,u);return"button"===r&&(m.type="button"),i.a.createElement(r,Object(a.a)({ref:t,onClick:f},m),c)})),f=n(109),b=i.a.forwardRef((function(e,t){var n=e.children,r=e.eventKey,c=Object(o.a)(e,["children","eventKey"]),s=Object(l.useContext)(p);return i.a.createElement(f.a,Object(a.a)({ref:t,in:s===r},c),i.a.createElement("div",null,i.a.Children.only(n)))}));b.displayName="AccordionCollapse";var h=b,g=i.a.forwardRef((function(e,t){var n=Object(s.a)(e,{activeKey:"onSelect"}),r=n.as,l=void 0===r?"div":r,m=n.activeKey,f=n.bsPrefix,b=n.children,h=n.className,g=n.onSelect,E=Object(o.a)(n,["as","activeKey","bsPrefix","children","className","onSelect"]);return f=Object(u.a)(f,"accordion"),i.a.createElement(p.Provider,{value:m},i.a.createElement(d.a.Provider,{value:g},i.a.createElement(l,Object(a.a)({ref:t},E,{className:c()(h,f)}),b)))}));g.Toggle=m,g.Collapse=h;t.a=g},181:function(e,t,n){"use strict";n.r(t);var a=n(105),o=n(0),r=n.n(o),c=n(100),l=n(16),i=n(97),s=n(98),u=n(96),d=n(185),p=n(134),m=n(180),f=n(133),b=n(104),h=n(27),g=n.n(h),E=n(174),y=Object(l.b)((function(e,t){return{id:t.postId}}),{commentPost:b.b})(Object(c.a)((function(e){var t=Object(o.useState)(""),n=Object(a.a)(t,2),c=n[0],l=n[1];return r.a.createElement(m.a,{onSubmit:function(t){t.preventDefault();var n={body:c,postId:e.id};e.commentPost(n)}},r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:8},r.a.createElement(m.a.Control,{onChange:function(e){l(e.target.value)},name:"comment",value:c,style:{backgroundColor:"#0c0c0C",color:"#29ff00",borderRadius:"20px"},type:"text",placeholder:"type here...."})),r.a.createElement(u.a,null,r.a.createElement(f.a,{type:"submit",style:{backgroundColor:"#0c0c0C",color:"#29ff00",borderRadius:"20px",border:"2px solid #29ff00"}},"add"))))}))),x=Object(c.a)((function(e){var t={lightgreenColor:{color:"#29ff00"},col:{padding:"50px",borderRadius:"20px"},header:{backgroundColor:"#0c0c0C",color:"#29ff00",borderRadius:"20px"},button:{color:"#29ff00",fontWeight:"bold",backgroundColor:"#0c0c0C",border:"2px solid #0c0c0C"},card:{boxShadow:" 3px 3px #0c0c0C",width:"90%",margin:"0 auto",borderRadius:"20px"},cbody:{backgroundColor:"#333333",color:"#29ff00",padding:"20px",borderRadius:"20px"},FormControl:{backgroundColor:"#3333",color:"#29ff00"},commentA:{backgroundColor:"#0c0c0C",color:"#29ff00",textAlign:"end"},comments:{backgroundColor:"#333333",color:"#0c0c0C"},btn:{backgroundColor:"#3333",color:"#29ff00",marginLeft:"10px",border:"1px solid",marginTop:"20px",borderRadius:"20px"},Lbtn:{backgroundColor:"#29ff00",color:"#0c0c0C",marginLeft:"10px",border:"1px solid",marginTop:"20px",borderRadius:"20px"}};return r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12}," ",r.a.createElement(E.a,{style:{marginTop:"50px"},defaultActiveKey:"1"},r.a.createElement(p.a,{style:t.header},r.a.createElement(p.a.Body,{style:t.header},r.a.createElement(p.a.Title,{style:{textAlign:"center",textTransform:"uppercase"}},e.info.creator.name),r.a.createElement(p.a.Text,{style:t.cbody},e.info.body),-1===e.info.likes.indexOf(e.usrId)?r.a.createElement(f.a,{style:t.btn,onClick:function(){return e.like(e.info._id)}},e.info.likes.length,"   ",r.a.createElement("i",{className:"fa fa-thumbs-up"}," Likes")):r.a.createElement(f.a,{style:t.Lbtn,onClick:function(){return e.unlike(e.info._id)}},e.info.likes.length,"   ",r.a.createElement("i",{className:"fa fa-thumbs-up"}," Likes")),r.a.createElement(f.a,{style:t.btn},e.info.comments.length,"   ",r.a.createElement("i",{className:"fa fa-book"}," Comments"))),r.a.createElement(E.a.Toggle,{as:p.a.Header,style:t.commentA,eventKey:"0"},r.a.createElement(f.a,{style:t.btn},r.a.createElement("i",{className:"fa fa-arrow-down"}))),r.a.createElement(E.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,{style:t.comments},r.a.createElement(i.a,{className:"m-3"},r.a.createElement(s.a,null,e.info.comments.map((function(e){return r.a.createElement(u.a,{style:{marginTop:"20px"},key:e._id,sm:12},r.a.createElement(p.a.Body,{style:t.header},r.a.createElement(p.a.Title,{style:{textAlign:"center",textTransform:"uppercase"}},e.user.name),r.a.createElement(p.a.Text,{style:t.cbody},e.body)))})))),r.a.createElement(y,{postId:e.info._id}))))))))})),C=Object(l.b)((function(e){return{user:e.auth.user,post:e.post}}),{getPeoplePosts:b.d,likePost:b.f,unlikePost:b.g})((function(e){var t=Object(o.useCallback)((function(){e.getPeoplePosts()}),[]);Object(o.useEffect)((function(){t()}),[t,e.getPeoplePosts]),console.log(e.post.peoplePosts);var n,a=function(t){console.log(t),e.likePost({PostId:t})},c=function(t){console.log(t),e.unlikePost({PostId:t})};0===e.post.peoplePosts.length?n=r.a.createElement("h4",{style:{textAlign:"center",color:"#29ff00",marginTop:"100px"}},"No Feeds found"):n=e.post.peoplePosts.map((function(t){return r.a.createElement(x,{key:t._id,info:t,usrId:e.user._id,unlike:c,like:a})}));return r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,e.post.loading?r.a.createElement(g.a,{type:"Circles",color:"#29ff00",height:100,width:100,timeout:2e3,style:{textAlign:"center"}}):n)))})),O=n(17);t.default=Object(l.b)((function(e){return{auth:e.auth,post:e.post,error:e.error}}),{addPost:b.a,clearErrors:O.a})(Object(c.a)((function(e){var t=Object(o.useState)(""),n=Object(a.a)(t,2),c=n[0],l=n[1],b={lightgreenColor:{color:"#29ff00"},col:{padding:"50px",borderRadius:"20px"},header:{backgroundColor:"#0c0c0C",color:"#29ff00"},button:{color:"#29ff00",fontWeight:"bold",backgroundColor:"#0c0c0C",border:"2px solid #0c0c0C",borderRadius:"20px"},card:{boxShadow:" 3px 3px #0c0c0C",width:"90%",margin:"0 auto",border:"2px solid"},cbody:{backgroundColor:"#333333",color:"#29ff00"},FormControl:{backgroundColor:"#3333",color:"#29ff00"}},h=Object(o.useState)(null),g=Object(a.a)(h,2),E=g[0],y=g[1],x=Object(o.useState)(null),O=Object(a.a)(x,2),j=O[0],v=O[1],k=e.error;Object(o.useEffect)((function(){k&&(y(k.msg.message),console.log(k.msg.message))}),[k]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12,style:b.col},E&&r.a.createElement(d.a,{style:{background:"#0c0c0C",color:"#29ff00",textAlign:"center"},color:"danger"},E),r.a.createElement(p.a,{style:b.card,className:"text-center"},r.a.createElement(p.a.Header,{style:b.header},"Write a Post"),r.a.createElement(p.a.Body,{style:b.cbody},!E&&j&&r.a.createElement(d.a,{style:{background:"#0c0c0C"},color:"danger"},j),r.a.createElement(m.a,{onSubmit:function(t){t.preventDefault();var n={body:c,creator:e.auth.user._id};console.log(n),e.addPost(n),e.clearErrors(),v("Post Added!!!")}},r.a.createElement(m.a.Group,{controlId:"formBasicname"},r.a.createElement(m.a.Control,{style:b.FormControl,type:"text",onChange:function(e){l(e.target.value)},name:"body",placeholder:"write here...",autoComplete:"off"})),r.a.createElement(f.a,{type:"submit",variant:"primary",style:b.button},"Post"))))),r.a.createElement(u.a,null))),r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:12,style:{borderRadius:"50px"}},r.a.createElement(p.a,{style:b.card,className:"text-center"},r.a.createElement(p.a.Header,{style:b.header},"Feeds"))),r.a.createElement(u.a,null,r.a.createElement(C,null)))))})))}}]);
//# sourceMappingURL=8.c2471b7c.chunk.js.map